{% extends 'base.html' %}
{% block content %}

<div class="container mt-5">
	<div class="row justify-content-center">
		<div class="col-md-8">
			<h2 class="mb-4 text-center">Book an Appointment</h2>

			<form method="POST" action="{% url 'book_appointment' %}">
				{% csrf_token %}

				<div class="mb-3">
					<label for="service" class="form-label">Select a Service</label>
					<select class="form-select" id="service" name="service_id" required>
						<option value="" disabled selected>Choose a service</option>
						{% for service in services %}
							<option value="{{ service.id }}" {% if selected_service and service.id == selected_service.id %}selected{% endif %}>
								{{ service.name }} ( ${{ service.price }} )
							</option>
						{% endfor %}
					</select>
				</div>

				<div class="mb-3">
					<label for="staff" class="form-label">Select a Staff Member</label>
					<select class="form-select" id="staff" name="staff_id" required>
						<option value="" disabled selected>Choose a staff member</option>
						{% for staff in staff_members %}
							<option value="{{ staff.id }}">{{ staff.first_name }} {{ staff.last_name }}</option>
						{% endfor %}
					</select>
				</div>

				<div class="mb-3">
					<label for="date" class="form-label">Choose a Date</label>
					<input type="date" class="form-control" id="date" name="date" required>
				</div>

				<div class="mb-3">
					<label for="time" class="form-label">Choose a Time</label>
					<input type="time" class="form-control" id="time" name="time" required>
				</div>

				<div class="d-grid">
					<button type="submit" class="btn btn-primary">Book Appointment</button>
				</div>
			</form>
		</div>
	</div>
</div>

{% endblock %}